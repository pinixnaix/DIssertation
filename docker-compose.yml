version: "3.9"

networks:
  network:
    driver: bridge

services:
      influxdb:
        container_name: influxdb
        image: influxdb:latest
        env_file: configuration.env
        ports:
          - "8086:8086"
        volumes:
          - ./influxdb/data:/var/lib/influxdb2
          - ./influxdb/config:/etc/influxdb2
        restart: unless-stopped
        networks:
          - default


      grafana:
        image: grafana/grafana:latest
        depends_on:
          - influxdb
        env_file: configuration.env
        links:
          - influxdb
        ports:
          - '9000:3000'
        volumes:
          - ./grafana/grafana/:/var/lib/grafana/
        restart: unless-stopped
        networks:
          - default